(()=>{var t,e,r={8968:(t,e,r)=>{"use strict";r.d(e,{A:()=>a});var n=r(8443),o=r.n(n);function a(t,e,r){void 0===e&&(e={}),void 0===r&&(r={});const n=t&&t.icon(),{useColor:a=!0}=r;return e.className=o()([e.className,"icon text-colored",n?t.icon():"TagIcon"]),t&&a?(e.style=e.style||{},e.style["--color"]=t.color()):t||(e.className+=" untagged"),n?m("i",e):m("span",e)}flarum.reg.add("flarum-tags","common/helpers/tagIcon",a)},339:(t,e,r)=>{"use strict";r.d(e,{A:()=>f});var n=r(9414),o=r.n(n),a=r(2088),s=r.n(a),i=r(8443),l=r.n(i),u=r(8296),c=r.n(u),d=r(8968);function f(t,e){void 0===e&&(e={}),e.style=e.style||{},e.className="TagLabel "+(e.className||"");const r=o()(e,"link"),n=t?t.name():app.translator.trans("flarum-tags.lib.deleted_tag_text");if(t){const n=t.color();n&&(e.style["--tag-bg"]=n,e.className=l()(e.className,"colored",c()(n))),r&&(e.title=t.description()||"",e.href=app.route("tag",{tags:t.slug()})),t.isChild()&&(e.className+=" TagLabel--child")}else e.className+=" untagged";return m(r?s():"span",e,m("span",{className:"TagLabel-text"},t&&t.icon()&&(0,d.A)(t,{className:"TagLabel-icon"},{useColor:!1}),m("span",{className:"TagLabel-name"},n)))}flarum.reg.add("flarum-tags","common/helpers/tagLabel",f)},4085:()=>{},1618:(t,e,r)=>{"use strict";function n(t){return t.slice(0).sort(((t,e)=>{const r=t.position(),n=e.position();if(null===r&&null===n)return e.discussionCount()-t.discussionCount();if(null===n)return-1;if(null===r)return 1;const o=t.parent(),a=e.parent();return o===a?r-n:o&&a?o.position()-a.position():o?o===e?1:o.position()-n:a?a===t?-1:r-a.position():0}))}r.d(e,{A:()=>n}),flarum.reg.add("flarum-tags","common/utils/sortTags",n)},4319:(t,e,r)=>{"use strict";r.d(e,{X:()=>Tt});var n=r(488),o=r.n(n),a=r(8805),s=r(954),i=r.n(s);class l{constructor(){(0,a.A)(this,"loadedIncludes",void 0)}async load(t){if(void 0===t&&(t=[]),!this.loadedIncludes)return this.query(t);const e=t.filter((t=>!this.loadedIncludes.has(t)));return 0===e.length?Promise.resolve(i().store.all("tags")):this.query(e)}async query(t){return void 0===t&&(t=[]),this.loadedIncludes??=new Set,i().store.find("tags",{include:t.join(",")}).then((e=>{const r=Array.isArray(e)?e:[e];return t.forEach((t=>this.loadedIncludes.add(t))),r}))}}flarum.reg.add("flarum-tags","common/states/TagListState",l);const u=flarum.reg.get("core","common/extend"),c=flarum.reg.get("core","forum/components/IndexSidebar");var d=r.n(c);const f=flarum.reg.get("core","common/components/Separator");var g=r.n(f);const p=flarum.reg.get("core","common/components/LinkButton");var h=r.n(p),v=r(2088),y=r.n(v),b=r(8443),w=r.n(b),x=r(8968);class T extends(h()){view(t){const e=this.attrs.model,r=e&&e.description(),n=w()("TagLinkButton hasIcon",{child:e.isChild()},this.attrs.className);return m(y(),{className:n,href:this.attrs.route,style:e?{"--color":e.color()}:void 0,title:r||void 0},(0,x.A)(e,{className:"Button-icon"}),m("span",{className:"Button-label"},e?e.name():app.translator.trans("flarum-tags.forum.index.untagged_link")))}static initAttrs(t){super.initAttrs(t);const e=t.model;t.params.tags=e?e.slug():"untagged",t.route=app.route("tag",t.params)}}flarum.reg.add("flarum-tags","forum/components/TagLinkButton",T);const k=flarum.reg.get("core","common/components/Page");var A=r.n(k);const S=flarum.reg.get("core","forum/components/PageStructure");var N=r.n(S);const C=flarum.reg.get("core","forum/components/WelcomeHero");var P=r.n(C),_=r(6661),L=r.n(_);const E=flarum.reg.get("core","common/utils/ItemList");var I=r.n(E);const D=flarum.reg.get("core","common/helpers/humanTime");var j=r.n(D),O=r(8296),z=r.n(O),R=r(5233),$=r.n(R),M=r(339),H=r(1618);class F extends(A()){constructor(){super(...arguments),(0,a.A)(this,"tags",void 0),(0,a.A)(this,"loading",void 0)}oninit(t){super.oninit(t),o().history.push("tags",$()(o().translator.trans("flarum-tags.forum.header.back_to_tags_tooltip"))),o().current.set("noTagsList",!0),this.tags=[];const e=o().preloadedApiDocument();e?this.tags=(0,H.A)(e.filter((t=>!t.isChild()))):(this.loading=!0,o().tagList.load(["children","lastPostedDiscussion","parent"]).then((()=>{this.tags=(0,H.A)(o().store.all("tags").filter((t=>!t.isChild()))),this.loading=!1,m.redraw()})))}oncreate(t){super.oncreate(t),o().setTitle($()(o().translator.trans("flarum-tags.forum.all_tags.meta_title_text"))),o().setTitleCount(0)}view(){return m(N(),{className:"TagsPage Page--vertical",hero:this.hero.bind(this),sidebar:this.sidebar.bind(this)},this.contentItems().toArray())}contentItems(){const t=new(I());if(this.loading)t.add("loading",m(L(),null));else{const e=this.tags.filter((t=>null!==t.position())),r=this.tags.filter((t=>null===t.position()));t.add("tagTiles",this.tagTileListView(e),100),r.length&&t.add("cloud",this.cloudView(r),10)}return t}hero(){return m(P(),null)}sidebar(){return m(d(),null)}tagTileListView(t){return m("ul",{className:"TagTiles"},t.map(this.tagTileView.bind(this)))}tagTileView(t){const e=t.lastPostedDiscussion(),r=(0,H.A)(t.children()||[]);return m("li",{className:w()("TagTile",{colored:t.color()},z()(t.color())),style:{"--tag-bg":t.color()}},m(y(),{className:"TagTile-info",href:o().route.tag(t)},m("div",{className:"TagTile-heading"},t.icon()&&(0,x.A)(t,{},{useColor:!1}),m("h3",{className:"TagTile-name"},t.name())),m("p",{className:"TagTile-description"},t.description()),!!r&&m("div",{className:"TagTile-children"},r.map((t=>[m(y(),{href:o().route.tag(t)},t.name())," "])))),e?m(y(),{className:"TagTile-lastPostedDiscussion",href:o().route.discussion(e,e.lastPostNumber())},m("span",{className:"TagTile-lastPostedDiscussion-title"},e.title()),j()(e.lastPostedAt())):m("span",{className:"TagTile-lastPostedDiscussion"}))}cloudView(t){return m("div",{className:"TagCloud"},t.map((t=>[(0,M.A)(t,{link:!0})," "])))}}flarum.reg.add("flarum-tags","forum/components/TagsPage",F);const q=flarum.reg.get("core","forum/components/IndexPage");var B=r.n(q);const V=flarum.reg.get("core","forum/states/DiscussionListState");var U=r.n(V);const K=flarum.reg.get("core","forum/states/GlobalSearchState");var G=r.n(K),J=r(4950),X=r.n(J);r(5099);class Q extends(X()){view(){const t=this.attrs.model.color();return m("header",{className:w()("Hero","TagHero",{"TagHero--colored":t,[z()(t)]:t}),style:t?{"--hero-bg":t}:void 0},m("div",{className:"container"},this.viewItems().toArray()))}viewItems(){const t=new(I());return t.add("content",m("div",{className:"containerNarrow"},this.contentItems().toArray()),80),t}contentItems(){const t=new(I()),e=this.attrs.model;return t.add("tag-title",m("h1",{className:"Hero-title"},e.icon()&&(0,x.A)(e,{},{useColor:!1})," ",e.name()),100),t.add("tag-subtitle",m("div",{className:"Hero-subtitle"},e.description()),90),t}}flarum.reg.add("flarum-tags","forum/components/TagHero",Q);const W=t=>o().store.all("tags").find((e=>0===e.slug().localeCompare(t,void 0,{sensitivity:"base"}))),Y=flarum.reg.get("core","forum/components/DiscussionListItem");var Z=r.n(Y);const tt=flarum.reg.get("core","forum/components/DiscussionHero");var et=r.n(tt);function rt(t,e){void 0===e&&(e={});const r=[],{link:n,...o}=e;return o.className=w()("TagsLabel",o.className),t?(0,H.A)(t).forEach((e=>{(e||1===t.length)&&r.push((0,M.A)(e,{link:n}))})):r.push((0,M.A)()),m("span",o,r)}r(9414),flarum.reg.add("flarum-tags","common/helpers/tagsLabel",rt);const nt=flarum.reg.get("core","forum/utils/DiscussionControls");var ot=r.n(nt),at=r(5336),st=r.n(at);flarum.reg.addChunkModule("371","2440","flarum-tags","forum/components/TagDiscussionModal"),flarum.reg.addChunkModule("371","2440","flarum-tags","common/components/TagSelectionModal"),flarum.reg.addChunkModule("371","2440","flarum-tags","forum/components/ToggleButton");var it=r(3838);const lt=flarum.reg.get("core","common/extenders");var ut=r.n(lt);const ct=flarum.reg.get("core","common/models/Discussion");var dt=r.n(ct);const ft=flarum.reg.get("core","forum/components/EventPost");var mt=r.n(ft);class gt extends(mt()){static initAttrs(t){super.initAttrs(t);const e=t.post.content()[0],r=t.post.content()[1];function n(t,e){return t.filter((t=>-1===e.indexOf(t))).map((t=>app.store.getById("tags",t)))}t.tagsAdded=n(r,e),t.tagsRemoved=n(e,r)}icon(){return"fas fa-tag"}descriptionKey(){return this.attrs.tagsAdded.length?this.attrs.tagsRemoved.length?"flarum-tags.forum.post_stream.added_and_removed_tags_text":"flarum-tags.forum.post_stream.added_tags_text":"flarum-tags.forum.post_stream.removed_tags_text"}descriptionData(){const t={};return this.attrs.tagsAdded.length&&(t.tagsAdded=app.translator.trans("flarum-tags.forum.post_stream.tags_text",{tags:rt(this.attrs.tagsAdded,{link:!0}),count:this.attrs.tagsAdded.length})),this.attrs.tagsRemoved.length&&(t.tagsRemoved=app.translator.trans("flarum-tags.forum.post_stream.tags_text",{tags:rt(this.attrs.tagsRemoved,{link:!0}),count:this.attrs.tagsRemoved.length})),t}}flarum.reg.add("flarum-tags","forum/components/DiscussionTaggedPost",gt);const pt=flarum.reg.get("core","common/utils/computed");var ht=r.n(pt);const vt=flarum.reg.get("core","common/Model");var yt=r.n(vt);class bt extends(yt()){name(){return yt().attribute("name").call(this)}slug(){return yt().attribute("slug").call(this)}description(){return yt().attribute("description").call(this)}color(){return yt().attribute("color").call(this)}backgroundUrl(){return yt().attribute("backgroundUrl").call(this)}backgroundMode(){return yt().attribute("backgroundMode").call(this)}icon(){return yt().attribute("icon").call(this)}position(){return yt().attribute("position").call(this)}parent(){return yt().hasOne("parent").call(this)}children(){return yt().hasMany("children").call(this)}defaultSort(){return yt().attribute("defaultSort").call(this)}isChild(){return yt().attribute("isChild").call(this)}isHidden(){return yt().attribute("isHidden").call(this)}isPrimary(){return yt().attribute("isPrimary").call(this)}discussionCount(){return yt().attribute("discussionCount").call(this)}lastPostedAt(){return yt().attribute("lastPostedAt",yt().transformDate).call(this)}lastPostedDiscussion(){return yt().hasOne("lastPostedDiscussion").call(this)}isRestricted(){return yt().attribute("isRestricted").call(this)}canStartDiscussion(){return yt().attribute("canStartDiscussion").call(this)}canAddToDiscussion(){return yt().attribute("canAddToDiscussion").call(this)}isPrimaryParent(){return ht()("position","parent",((t,e)=>null!==t&&!1===e)).call(this)}}flarum.reg.add("flarum-tags","common/models/Tag",bt);const wt=flarum.reg.get("core","common/query/IGambit");class xt extends wt.KeyValueGambit{constructor(){super(...arguments),(0,a.A)(this,"predicates",!0)}key(){return i().translator.trans("flarum-tags.lib.gambits.discussions.tag.key",{},!0)}hint(){return i().translator.trans("flarum-tags.lib.gambits.discussions.tag.hint",{},!0)}filterKey(){return"tag"}gambitValueToFilterValue(t){return[t]}fromFilter(t,e){let r=[];return Array.isArray(t)?(r=t.map((t=>this.fromFilter(t.toString(),e))),r.join(" ")):`${e?"-":""}${this.key()}:${this.filterValueToGambitValue(t)}`}filterValueToGambitValue(t){return t}}flarum.reg.add("flarum-tags","common/query/discussions/TagGambit",xt);const Tt=[(new(ut().Store)).add("tags",bt),(new(ut().Search)).gambit("discussions",xt),(new(ut().Routes)).add("tags","/tags",F).add("tag","/t/:tags",B()).helper("tag",(t=>o().route("tag",{tags:t.slug()}))),(new(ut().PostTypes)).add("discussionTagged",gt),new(ut().Model)(dt()).hasMany("tags").attribute("canTag")];o().initializers.add("flarum-tags",(()=>{o().tagList=new l,(0,u.extend)(d().prototype,"navItems",(function(t){if(t.add("tags",m(h(),{icon:"fas fa-th-large",href:o().route("tags")},o().translator.trans("flarum-tags.forum.index.tags_link")),-10),o().current.get("noTagsList"))return;t.add("separator",m(g(),null),-12);const e=o().search.state.stickyParams(),r=o().store.all("tags"),n=o().currentTag(),a=r=>{let o=n===r;!o&&n&&(o=n.parent()===r),t.add("tag"+r.id(),m(T,{model:r,params:e,active:o},r?.name()),-14)};(0,H.A)(r).filter((t=>null!==t.position()&&(!t.isChild()||n&&(t.parent()===n||t.parent()===n.parent())))).forEach(a);const s=r.filter((t=>null===t.position())).sort(((t,e)=>e.discussionCount()-t.discussionCount()));s.splice(0,3).forEach(a),s.length&&t.add("moreTags",m(h(),{href:o().route("tags")},o().translator.trans("flarum-tags.forum.index.more_link")),-16)})),o().currentTag=function(t){if(this.currentActiveTag&&!t)return this.currentActiveTag;const e=this.search.state.params().tags;let r=null;if(e&&(r=W(e)),e&&!r||r&&!r.isChild()&&!r.children()){if(this.currentTagLoading)return;this.currentTagLoading=!0,this.store.find("tags",e,{include:"children,children.parent,parent"}).then((()=>{this.currentActiveTag=W(e),m.redraw()})).finally((()=>{this.currentTagLoading=!1}))}if(r)return this.currentActiveTag=r,this.currentActiveTag;this.currentActiveTag=void 0},(0,u.extend)(B().prototype,"view",(function(t){o().currentTag(!0)})),(0,u.override)(B().prototype,"hero",(function(t){const e=o().currentTag();return e?m(Q,{model:e}):t()})),(0,u.extend)(B().prototype,"view",(function(t){const e=o().currentTag();e&&(t.attrs.className+=" IndexPage--tag"+e.id())})),(0,u.extend)(B().prototype,"setTitle",(function(){const t=o().currentTag();t&&o().setTitle(t.name())})),(0,u.extend)(d().prototype,"items",(function(t){const e=o().currentTag();if(e){const r=e.color(),n=e.canStartDiscussion()||!o().session.user,a=t.get("newDiscussion");r&&(a.attrs.className=w()([a.attrs.className,"Button--tagColored",z()(r)]),a.attrs.style={"--color":r}),a.attrs.disabled=!n,a.children=o().translator.trans(n?"core.forum.index.start_discussion_button":"core.forum.index.cannot_start_discussion_button")}})),(0,u.extend)(G().prototype,"params",(function(t){t.tags=m.route.param("tags")})),(0,u.extend)(U().prototype,"requestParams",(function(t){"string"==typeof t.include?t.include=[t.include]:t.include?.push("tags","tags.parent"),this.params.tags&&(t.filter||={},t.filter.tag=this.params.tags)})),(0,u.extend)(Z().prototype,"infoItems",(function(t){const e=this.attrs.discussion.tags();e&&e.length&&t.add("tags",rt(e),10)})),(0,u.extend)(et().prototype,"view",(function(t){const e=(0,H.A)(this.attrs.discussion.tags());if(e&&e.length){const r=e[0].color();r&&(t.attrs.style={"--hero-bg":r},t.attrs.className=w()(t.attrs.className,"DiscussionHero--colored",z()(r)))}})),(0,u.extend)(et().prototype,"items",(function(t){const e=this.attrs.discussion.tags();e&&e.length&&t.add("tags",rt(e,{link:!0}),5)})),(0,u.extend)(ot(),"moderationControls",(function(t,e){e.canTag()&&t.add("tags",m(st(),{icon:"fas fa-tag",onclick:()=>app.modal.show((()=>r.e(371).then(r.bind(r,2440))),{discussion:e})},app.translator.trans("flarum-tags.forum.discussion_controls.edit_tags_button")))})),(0,u.extend)(d().prototype,"newDiscussionAction",(function(t){const e=o().currentTag();if(e){const r=e.parent(),n=r?[r,e]:[e];t.then((t=>t.fields.tags=n))}else o().composer.fields.tags=[]})),(0,u.extend)("flarum/forum/components/DiscussionComposer","oninit",(function(){o().tagList.load(["parent"]).then((()=>m.redraw())),this.constructor.prototype.chooseTags=function(){(0,it.A)().length&&o().modal.show((()=>r.e(371).then(r.bind(r,2440))),{selectedTags:(this.composer.fields.tags||[]).slice(0),onsubmit:t=>{this.composer.fields.tags=t,this.$("textarea").focus()}})}})),(0,u.extend)("flarum/forum/components/DiscussionComposer","headerItems",(function(t){const e=this.composer.fields.tags||[],r=(0,it.A)();t.add("tags",m(st(),{className:w()(["DiscussionComposer-changeTags","Button Button--ua-reset",!r.length&&"disabled"]),onclick:this.chooseTags.bind(this)},e.length?rt(e):m("span",{className:"TagLabel untagged"},o().translator.trans("flarum-tags.forum.composer_discussion.choose_tags_link"))),10)})),(0,u.override)("flarum/forum/components/DiscussionComposer","onsubmit",(function(t){const e=this.composer.fields.tags||[],n=e.filter((t=>null!==t.position()&&!t.isChild())),a=e.filter((t=>null===t.position())),s=(0,it.A)(),i=parseInt(o().forum.attribute("minPrimaryTags")),l=parseInt(o().forum.attribute("minSecondaryTags")),u=parseInt(o().forum.attribute("maxPrimaryTags")),c=parseInt(o().forum.attribute("maxSecondaryTags"));(!e.length&&0!==u&&0!==c||n.length<i||a.length<l)&&s.length?o().modal.show((()=>r.e(371).then(r.bind(r,2440))),{selectedTags:e,onsubmit:e=>{this.composer.fields.tags=e,t()}}):t()})),(0,u.extend)("flarum/forum/components/DiscussionComposer","data",(function(t){t.relationships=t.relationships||{},t.relationships.tags=this.composer.fields.tags}))}))},3838:(t,e,r)=>{"use strict";function n(t){let e=app.store.all("tags");if(t){const r=t.tags()||[];e=e.filter((t=>t.canAddToDiscussion()||r.includes(t)))}else e=e.filter((t=>t.canStartDiscussion()));return e}r.d(e,{A:()=>n}),flarum.reg.add("flarum-tags","forum/utils/getSelectableTags",n)},4117:(t,e,r)=>{"use strict";var n=r(4138);t.exports=function(t,e,r){var o=[],a=!1,s=-1;function i(){for(s=0;s<o.length;s+=2)try{t(o[s],n(o[s+1]),l)}catch(t){r.error(t)}s=-1}function l(){a||(a=!0,e((function(){a=!1,i()})))}return l.sync=i,{mount:function(e,r){if(null!=r&&null==r.view&&"function"!=typeof r)throw new TypeError("m.mount expects a component, not a vnode.");var a=o.indexOf(e);a>=0&&(o.splice(a,2),a<=s&&(s-=2),t(e,[])),null!=r&&(o.push(e,r),t(e,n(r),l))},redraw:l}}},7635:(t,e,r)=>{"use strict";var n=r(4138),o=r(8281),a=r(1700),s=r(8015),i=r(5259),l=r(463),u=r(4716),c={};function d(t){try{return decodeURIComponent(t)}catch(e){return t}}t.exports=function(t,e){var r,f,m,g,p,h,v=null==t?null:"function"==typeof t.setImmediate?t.setImmediate:t.setTimeout,y=Promise.resolve(),b=!1,w=!1,x=0,T=c,k={onbeforeupdate:function(){return!(!(x=x?2:1)||c===T)},onremove:function(){t.removeEventListener("popstate",N,!1),t.removeEventListener("hashchange",S,!1)},view:function(){if(x&&c!==T){var t=[n(m,g.key,g)];return T&&(t=T.render(t[0])),t}}},A=P.SKIP={};function S(){b=!1;var n=t.location.hash;"#"!==P.prefix[0]&&(n=t.location.search+n,"?"!==P.prefix[0]&&"/"!==(n=t.location.pathname+n)[0]&&(n="/"+n));var o=n.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,d).slice(P.prefix.length),a=s(o);function i(t){console.error(t),C(f,null,{replace:!0})}l(a.params,t.history.state),function t(n){for(;n<r.length;n++)if(r[n].check(a)){var s=r[n].component,l=r[n].route,u=s,c=h=function(r){if(c===h){if(r===A)return t(n+1);m=null==r||"function"!=typeof r.view&&"function"!=typeof r?"div":r,g=a.params,p=o,h=null,T=s.render?s:null,2===x?e.redraw():(x=2,e.redraw.sync())}};return void(s.view||"function"==typeof s?(s={},c(u)):s.onmatch?y.then((function(){return s.onmatch(a.params,o,l)})).then(c,o===f?null:i):c("div"))}if(o===f)throw new Error("Could not resolve default route "+f+".");C(f,null,{replace:!0})}(0)}function N(){b||(b=!0,v(S))}function C(e,r,n){if(e=a(e,r),w){N();var o=n?n.state:null,s=n?n.title:null;n&&n.replace?t.history.replaceState(o,s,P.prefix+e):t.history.pushState(o,s,P.prefix+e)}else t.location.href=P.prefix+e}function P(n,o,a){if(!n)throw new TypeError("DOM element being rendered to does not exist.");if(r=Object.keys(a).map((function(t){if("/"!==t[0])throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:t,component:a[t],check:i(t)}})),f=o,null!=o){var l=s(o);if(!r.some((function(t){return t.check(l)})))throw new ReferenceError("Default route doesn't match any known routes.")}"function"==typeof t.history.pushState?t.addEventListener("popstate",N,!1):"#"===P.prefix[0]&&t.addEventListener("hashchange",S,!1),w=!0,e.mount(n,k),S()}return P.set=function(t,e,r){null!=h&&((r=r||{}).replace=!0),h=null,C(t,e,r)},P.get=function(){return p},P.prefix="#!",P.Link={view:function(t){var e,r,n,s=o(t.attrs.selector||"a",u(t.attrs,["options","params","selector","onclick"]),t.children);return(s.attrs.disabled=Boolean(s.attrs.disabled))?(s.attrs.href=null,s.attrs["aria-disabled"]="true"):(e=t.attrs.options,r=t.attrs.onclick,n=a(s.attrs.href,t.attrs.params),s.attrs.href=P.prefix+n,s.attrs.onclick=function(t){var o;"function"==typeof r?o=r.call(t.currentTarget,t):null==r||"object"!=typeof r||"function"==typeof r.handleEvent&&r.handleEvent(t),!1===o||t.defaultPrevented||0!==t.button&&0!==t.which&&1!==t.which||t.currentTarget.target&&"_self"!==t.currentTarget.target||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey||(t.preventDefault(),t.redraw=!1,P.set(n,null,e))}),s}},P.param=function(t){return g&&null!=t?g[t]:g},P}},4818:(t,e,r)=>{"use strict";var n=r(8281);n.trust=r(1990),n.fragment=r(1278),t.exports=n},5099:(t,e,r)=>{"use strict";var n=r(4818),o=r(202),a=r(8356),s=r(4609),i=function(){return n.apply(this,arguments)};i.m=n,i.trust=n.trust,i.fragment=n.fragment,i.Fragment="[",i.mount=a.mount,i.route=r(7358),i.render=r(711),i.redraw=a.redraw,i.request=o.request,i.parseQueryString=r(5698),i.buildQueryString=r(7705),i.parsePathname=r(8015),i.buildPathname=r(1700),i.vnode=r(4138),i.censor=r(4716),i.domFor=s.domFor,t.exports=i},8356:(t,e,r)=>{"use strict";var n=r(711);t.exports=r(4117)(n,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:null,"undefined"!=typeof console?console:null)},1700:(t,e,r)=>{"use strict";var n=r(7705),o=r(463);t.exports=function(t,e){if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(null==e)return t;var r=t.indexOf("?"),a=t.indexOf("#"),s=a<0?t.length:a,i=r<0?s:r,l=t.slice(0,i),u={};o(u,e);var c=l.replace(/:([^\/\.-]+)(\.{3})?/g,(function(t,r,n){return delete u[r],null==e[r]?t:n?e[r]:encodeURIComponent(String(e[r]))})),d=c.indexOf("?"),f=c.indexOf("#"),m=f<0?c.length:f,g=d<0?m:d,p=c.slice(0,g);r>=0&&(p+=t.slice(r,s)),d>=0&&(p+=(r<0?"?":"&")+c.slice(d,m));var h=n(u);return h&&(p+=(r<0&&d<0?"?":"&")+h),a>=0&&(p+=t.slice(a)),f>=0&&(p+=(a<0?"":"&")+c.slice(f)),p}},5259:(t,e,r)=>{"use strict";var n=r(8015);t.exports=function(t){var e=n(t),r=Object.keys(e.params),o=[],a=new RegExp("^"+e.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,(function(t,e,r){return null==e?"\\"+t:(o.push({k:e,r:"..."===r}),"..."===r?"(.*)":"."===r?"([^/]+)\\.":"([^/]+)"+(r||""))}))+"$");return function(t){for(var n=0;n<r.length;n++)if(e.params[r[n]]!==t.params[r[n]])return!1;if(!o.length)return a.test(t.path);var s=a.exec(t.path);if(null==s)return!1;for(n=0;n<o.length;n++)t.params[o[n].k]=o[n].r?s[n+1]:decodeURIComponent(s[n+1]);return!0}}},8015:(t,e,r)=>{"use strict";var n=r(5698);t.exports=function(t){var e=t.indexOf("?"),r=t.indexOf("#"),o=r<0?t.length:r,a=e<0?o:e,s=t.slice(0,a).replace(/\/{2,}/g,"/");return s?"/"!==s[0]&&(s="/"+s):s="/",{path:s,params:e<0?{}:n(t.slice(e+1,o))}}},7705:t=>{"use strict";t.exports=function(t){if("[object Object]"!==Object.prototype.toString.call(t))return"";var e=[];for(var r in t)n(r,t[r]);return e.join("&");function n(t,r){if(Array.isArray(r))for(var o=0;o<r.length;o++)n(t+"["+o+"]",r[o]);else if("[object Object]"===Object.prototype.toString.call(r))for(var o in r)n(t+"["+o+"]",r[o]);else e.push(encodeURIComponent(t)+(null!=r&&""!==r?"="+encodeURIComponent(r):""))}}},5698:t=>{"use strict";function e(t){try{return decodeURIComponent(t)}catch(e){return t}}t.exports=function(t){if(""===t||null==t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var r=t.split("&"),n={},o={},a=0;a<r.length;a++){var s=r[a].split("="),i=e(s[0]),l=2===s.length?e(s[1]):"";"true"===l?l=!0:"false"===l&&(l=!1);var u=i.split(/\]\[?|\[/),c=o;i.indexOf("[")>-1&&u.pop();for(var d=0;d<u.length;d++){var f=u[d],m=u[d+1],g=""==m||!isNaN(parseInt(m,10));if(""===f)null==n[i=u.slice(0,d).join()]&&(n[i]=Array.isArray(c)?c.length:0),f=n[i]++;else if("__proto__"===f)break;if(d===u.length-1)c[f]=l;else{var p=Object.getOwnPropertyDescriptor(c,f);null!=p&&(p=p.value),null==p&&(c[f]=p=g?[]:{}),c=p}}}return o}},711:(t,e,r)=>{"use strict";t.exports=r(526)("undefined"!=typeof window?window:null)},4609:t=>{"use strict";var e=new WeakMap;t.exports={delayedRemoval:e,domFor:function(t,r){return void 0===r&&(r={}),function*(){var n=t.dom,o=t.domSize,a=r.generation;if(null!=n)do{var s=n.nextSibling;e.get(n)===a&&(yield n,o--),n=s}while(o)}()}}},1278:(t,e,r)=>{"use strict";var n=r(4138),o=r(6283);t.exports=function(){var t=o.apply(0,arguments);return t.tag="[",t.children=n.normalizeChildren(t.children),t}},8281:(t,e,r)=>{"use strict";var n=r(4138),o=r(6283),a=r(5170),s=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,i={};t.exports=function(t){if(null==t||"string"!=typeof t&&"function"!=typeof t&&"function"!=typeof t.view)throw Error("The selector must be either a string or a component.");var e=o.apply(1,arguments);return"string"==typeof t&&(e.children=n.normalizeChildren(e.children),"["!==t)?function(t,e){var r=e.attrs,n=a.call(r,"class"),o=n?r.class:r.className;if(e.tag=t.tag,!function(t){for(var e in t)if(a.call(t,e))return!1;return!0}(t.attrs)){var s={};for(var i in r)a.call(r,i)&&(s[i]=r[i]);r=s}for(var i in t.attrs)a.call(t.attrs,i)&&"className"!==i&&!a.call(r,i)&&(r[i]=t.attrs[i]);return null==o&&null==t.attrs.className||(r.className=null!=o?null!=t.attrs.className?String(t.attrs.className)+" "+String(o):o:null!=t.attrs.className?t.attrs.className:null),n&&(r.class=null),e.attrs=r,e}(i[t]||function(t){for(var e,r="div",n=[],o={};e=s.exec(t);){var a=e[1],l=e[2];if(""===a&&""!==l)r=l;else if("#"===a)o.id=l;else if("."===a)n.push(l);else if("["===e[3][0]){var u=e[6];u&&(u=u.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===e[4]?n.push(u):o[e[4]]=""===u?u:u||!0}}return n.length>0&&(o.className=n.join(" ")),i[t]={tag:r,attrs:o}}(t),e):(e.tag=t,e)}},6283:(t,e,r)=>{"use strict";var n=r(4138);t.exports=function(){var t,e=arguments[this],r=this+1;if(null==e?e={}:("object"!=typeof e||null!=e.tag||Array.isArray(e))&&(e={},r=this),arguments.length===r+1)t=arguments[r],Array.isArray(t)||(t=[t]);else for(t=[];r<arguments.length;)t.push(arguments[r++]);return n("",e.key,e,t)}},526:(t,e,r)=>{"use strict";var n=r(4138),o=r(4609),a=o.delayedRemoval,s=o.domFor;t.exports=function(){var t,e,r={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function o(t){return t.ownerDocument}function i(t){return t.attrs&&t.attrs.xmlns||r[t.tag]}function l(t,e){if(t.state!==e)throw new Error("'vnode.state' must not be modified.")}function u(t){var e=t.state;try{return this.apply(e,arguments)}finally{l(t,e)}}function c(t){try{return o(t).activeElement}catch(t){return null}}function d(t,e,r,n,o,a,s){for(var i=r;i<n;i++){var l=e[i];null!=l&&f(t,l,o,s,a)}}function f(t,e,r,a,s){var l=e.tag;if("string"==typeof l)switch(e.state={},null!=e.attrs&&$(e.attrs,e,r),l){case"#":!function(t,e,r){e.dom=o(t).createTextNode(e.children),x(t,e.dom,r)}(t,e,s);break;case"<":g(t,e,a,s);break;case"[":!function(t,e,r,n,a){var s=o(t).createDocumentFragment();if(null!=e.children){var i=e.children;d(s,i,0,i.length,r,null,n)}e.dom=s.firstChild,e.domSize=s.childNodes.length,x(t,s,a)}(t,e,r,a,s);break;default:!function(t,e,r,n,a){var s=e.tag,l=e.attrs,u=l&&l.is,c=(n=i(e)||n)?u?o(t).createElementNS(n,s,{is:u}):o(t).createElementNS(n,s):u?o(t).createElement(s,{is:u}):o(t).createElement(s);if(e.dom=c,null!=l&&function(t,e,r){"input"===t.tag&&null!=e.type&&t.dom.setAttribute("type",e.type);var n=null!=e&&"input"===t.tag&&"file"===e.type;for(var o in e)C(t,o,null,e[o],r,n)}(e,l,n),x(t,c,a),!T(e)&&null!=e.children){var f=e.children;d(c,f,0,f.length,r,null,n),"select"===e.tag&&null!=l&&function(t,e){if("value"in e)if(null===e.value)-1!==t.dom.selectedIndex&&(t.dom.value=null);else{var r=""+e.value;t.dom.value===r&&-1!==t.dom.selectedIndex||(t.dom.value=r)}"selectedIndex"in e&&C(t,"selectedIndex",null,e.selectedIndex,void 0)}(e,l)}}(t,e,r,a,s)}else!function(t,e,r,o,a){(function(t,e){var r;if("function"==typeof t.tag.view){if(t.state=Object.create(t.tag),null!=(r=t.state.view).$$reentrantLock$$)return;r.$$reentrantLock$$=!0}else{if(t.state=void 0,null!=(r=t.tag).$$reentrantLock$$)return;r.$$reentrantLock$$=!0,t.state=null!=t.tag.prototype&&"function"==typeof t.tag.prototype.view?new t.tag(t):t.tag(t)}if($(t.state,t,e),null!=t.attrs&&$(t.attrs,t,e),t.instance=n.normalize(u.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");r.$$reentrantLock$$=null})(e,r),null!=e.instance?(f(t,e.instance,r,o,a),e.dom=e.instance.dom,e.domSize=null!=e.dom?e.instance.domSize:0):e.domSize=0}(t,e,r,a,s)}var m={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function g(t,e,r,n){var a=e.children.match(/^\s*?<(\w+)/im)||[],s=o(t).createElement(m[a[1]]||"div");"http://www.w3.org/2000/svg"===r?(s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",s=s.firstChild):s.innerHTML=e.children,e.dom=s.firstChild,e.domSize=s.childNodes.length;for(var i,l=o(t).createDocumentFragment();i=s.firstChild;)l.appendChild(i);x(t,l,n)}function p(t,e,r,n,o,a){if(e!==r&&(null!=e||null!=r))if(null==e||0===e.length)d(t,r,0,r.length,n,o,a);else if(null==r||0===r.length)k(t,e,0,e.length);else{var s=null!=e[0]&&null!=e[0].key,i=null!=r[0]&&null!=r[0].key,l=0,u=0;if(!s)for(;u<e.length&&null==e[u];)u++;if(!i)for(;l<r.length&&null==r[l];)l++;if(s!==i)k(t,e,u,e.length),d(t,r,l,r.length,n,o,a);else if(i){for(var c,m,g,p,x,T=e.length-1,S=r.length-1;T>=u&&S>=l&&(g=e[T],p=r[S],g.key===p.key);)g!==p&&h(t,g,p,n,o,a),null!=p.dom&&(o=p.dom),T--,S--;for(;T>=u&&S>=l&&(c=e[u],m=r[l],c.key===m.key);)u++,l++,c!==m&&h(t,c,m,n,b(e,u,o),a);for(;T>=u&&S>=l&&l!==S&&c.key===p.key&&g.key===m.key;)w(t,g,x=b(e,u,o)),g!==m&&h(t,g,m,n,x,a),++l<=--S&&w(t,c,o),c!==p&&h(t,c,p,n,o,a),null!=p.dom&&(o=p.dom),u++,g=e[--T],p=r[S],c=e[u],m=r[l];for(;T>=u&&S>=l&&g.key===p.key;)g!==p&&h(t,g,p,n,o,a),null!=p.dom&&(o=p.dom),S--,g=e[--T],p=r[S];if(l>S)k(t,e,u,T+1);else if(u>T)d(t,r,l,S+1,n,o,a);else{var N,C,P=o,_=S-l+1,L=new Array(_),E=0,I=0,D=2147483647,j=0;for(I=0;I<_;I++)L[I]=-1;for(I=S;I>=l;I--){null==N&&(N=v(e,u,T+1));var O=N[(p=r[I]).key];null!=O&&(D=O<D?O:-1,L[I-l]=O,g=e[O],e[O]=null,g!==p&&h(t,g,p,n,o,a),null!=p.dom&&(o=p.dom),j++)}if(o=P,j!==T-u+1&&k(t,e,u,T+1),0===j)d(t,r,l,S+1,n,o,a);else if(-1===D)for(C=function(t){var e=[0],r=0,n=0,o=0,a=y.length=t.length;for(o=0;o<a;o++)y[o]=t[o];for(o=0;o<a;++o)if(-1!==t[o]){var s=e[e.length-1];if(t[s]<t[o])y[o]=s,e.push(o);else{for(r=0,n=e.length-1;r<n;){var i=(r>>>1)+(n>>>1)+(r&n&1);t[e[i]]<t[o]?r=i+1:n=i}t[o]<t[e[r]]&&(r>0&&(y[o]=e[r-1]),e[r]=o)}}for(n=e[(r=e.length)-1];r-- >0;)e[r]=n,n=y[n];return y.length=0,e}(L),E=C.length-1,I=S;I>=l;I--)m=r[I],-1===L[I-l]?f(t,m,n,a,o):C[E]===I-l?E--:w(t,m,o),null!=m.dom&&(o=r[I].dom);else for(I=S;I>=l;I--)m=r[I],-1===L[I-l]&&f(t,m,n,a,o),null!=m.dom&&(o=r[I].dom)}}else{var z=e.length<r.length?e.length:r.length;for(l=l<u?l:u;l<z;l++)(c=e[l])===(m=r[l])||null==c&&null==m||(null==c?f(t,m,n,a,b(e,l+1,o)):null==m?A(t,c):h(t,c,m,n,b(e,l+1,o),a));e.length>z&&k(t,e,l,e.length),r.length>z&&d(t,r,l,r.length,n,o,a)}}}function h(t,e,r,o,a,s){var l=e.tag;if(l===r.tag){if(r.state=e.state,r.events=e.events,function(t,e){do{var r;if(null!=t.attrs&&"function"==typeof t.attrs.onbeforeupdate&&void 0!==(r=u.call(t.attrs.onbeforeupdate,t,e))&&!r)break;if("string"!=typeof t.tag&&"function"==typeof t.state.onbeforeupdate&&void 0!==(r=u.call(t.state.onbeforeupdate,t,e))&&!r)break;return!1}while(0);return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,t.attrs=e.attrs,t.children=e.children,t.text=e.text,!0}(r,e))return;if("string"==typeof l)switch(null!=r.attrs&&M(r.attrs,r,o),l){case"#":!function(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children),e.dom=t.dom}(e,r);break;case"<":!function(t,e,r,n,o){e.children!==r.children?(S(t,e,void 0),g(t,r,n,o)):(r.dom=e.dom,r.domSize=e.domSize)}(t,e,r,s,a);break;case"[":!function(t,e,r,n,o,a){p(t,e.children,r.children,n,o,a);var s=0,i=r.children;if(r.dom=null,null!=i){for(var l=0;l<i.length;l++){var u=i[l];null!=u&&null!=u.dom&&(null==r.dom&&(r.dom=u.dom),s+=u.domSize||1)}1!==s&&(r.domSize=s)}}(t,e,r,o,a,s);break;default:!function(t,e,r,n){var o=e.dom=t.dom;n=i(e)||n,function(t,e,r,n){if(e&&e===r&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),null!=r){"input"===t.tag&&null!=r.type&&t.dom.setAttribute("type",r.type);var o="input"===t.tag&&"file"===r.type;for(var a in r)C(t,a,e&&e[a],r[a],n,o)}var s;if(null!=e)for(var a in e)null==(s=e[a])||null!=r&&null!=r[a]||P(t,a,s,n)}(e,t.attrs,e.attrs,n),T(e)||p(o,t.children,e.children,r,null,n)}(e,r,o,s)}else!function(t,e,r,o,a,s){if(r.instance=n.normalize(u.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");M(r.state,r,o),null!=r.attrs&&M(r.attrs,r,o),null!=r.instance?(null==e.instance?f(t,r.instance,o,s,a):h(t,e.instance,r.instance,o,a,s),r.dom=r.instance.dom,r.domSize=r.instance.domSize):null!=e.instance?(A(t,e.instance),r.dom=void 0,r.domSize=0):(r.dom=e.dom,r.domSize=e.domSize)}(t,e,r,o,a,s)}else A(t,e),f(t,r,o,s,a)}function v(t,e,r){for(var n=Object.create(null);e<r;e++){var o=t[e];if(null!=o){var a=o.key;null!=a&&(n[a]=e)}}return n}var y=[];function b(t,e,r){for(;e<t.length;e++)if(null!=t[e]&&null!=t[e].dom)return t[e].dom;return r}function w(t,e,r){if(null!=e.dom){var n;if(null==e.domSize)n=e.dom;else for(var a of(n=o(t).createDocumentFragment(),s(e)))n.appendChild(a);x(t,n,r)}}function x(t,e,r){null!=r?t.insertBefore(e,r):t.appendChild(e)}function T(t){if(null==t.attrs||null==t.attrs.contenteditable&&null==t.attrs.contentEditable)return!1;var e=t.children;if(null!=e&&1===e.length&&"<"===e[0].tag){var r=e[0].children;t.dom.innerHTML!==r&&(t.dom.innerHTML=r)}else if(null!=e&&0!==e.length)throw new Error("Child node of a contenteditable must be trusted.");return!0}function k(t,e,r,n){for(var o=r;o<n;o++){var a=e[o];null!=a&&A(t,a)}}function A(t,r){var n,o,i,c,d=0,f=r.state;if("string"!=typeof r.tag&&"function"==typeof r.state.onbeforeremove&&null!=(i=u.call(r.state.onbeforeremove,r))&&"function"==typeof i.then&&(d=1,n=i),r.attrs&&"function"==typeof r.attrs.onbeforeremove&&null!=(i=u.call(r.attrs.onbeforeremove,r))&&"function"==typeof i.then&&(d|=2,o=i),l(r,f),d){for(var m of(c=e,s(r)))a.set(m,c);null!=n&&n.finally((function(){1&d&&((d&=2)||(l(r,f),N(r),S(t,r,c)))})),null!=o&&o.finally((function(){2&d&&((d&=1)||(l(r,f),N(r),S(t,r,c)))}))}else N(r),S(t,r,c)}function S(t,e,r){if(null!=e.dom)if(null==e.domSize)a.get(e.dom)===r&&t.removeChild(e.dom);else for(var n of s(e,{generation:r}))t.removeChild(n)}function N(t){if("string"!=typeof t.tag&&"function"==typeof t.state.onremove&&u.call(t.state.onremove,t),t.attrs&&"function"==typeof t.attrs.onremove&&u.call(t.attrs.onremove,t),"string"!=typeof t.tag)null!=t.instance&&N(t.instance);else{var e=t.children;if(Array.isArray(e))for(var r=0;r<e.length;r++){var n=e[r];null!=n&&N(n)}}}function C(t,e,r,n,o,a){if(!("key"===e||"is"===e||null==n||_(e)||r===n&&!function(t,e){return"value"===e||"checked"===e||"selectedIndex"===e||"selected"===e&&t.dom===c(t.dom)||"option"===t.tag&&t.dom.parentNode===c(t.dom)}(t,e)&&"object"!=typeof n||"type"===e&&"input"===t.tag)){if("o"===e[0]&&"n"===e[1])return R(t,e,n);if("xlink:"===e.slice(0,6))t.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),n);else if("style"===e)O(t.dom,r,n);else if(L(t,e,o)){if("value"===e){if(("input"===t.tag||"textarea"===t.tag)&&t.dom.value===""+n&&(a||t.dom===c(t.dom)))return;if("select"===t.tag&&null!==r&&t.dom.value===""+n)return;if("option"===t.tag&&null!==r&&t.dom.value===""+n)return;if(a&&""+n!="")return void console.error("`value` is read-only on file inputs!")}t.dom[e]=n}else"boolean"==typeof n?n?t.dom.setAttribute(e,""):t.dom.removeAttribute(e):t.dom.setAttribute("className"===e?"class":e,n)}}function P(t,e,r,n){if("key"!==e&&"is"!==e&&null!=r&&!_(e))if("o"===e[0]&&"n"===e[1])R(t,e,void 0);else if("style"===e)O(t.dom,r,null);else if(!L(t,e,n)||"className"===e||"title"===e||"value"===e&&("option"===t.tag||"select"===t.tag&&-1===t.dom.selectedIndex&&t.dom===c(t.dom))||"input"===t.tag&&"type"===e){var o=e.indexOf(":");-1!==o&&(e=e.slice(o+1)),!1!==r&&t.dom.removeAttribute("className"===e?"class":e)}else t.dom[e]=null}function _(t){return"oninit"===t||"oncreate"===t||"onupdate"===t||"onremove"===t||"onbeforeremove"===t||"onbeforeupdate"===t}function L(t,e,r){return void 0===r&&(t.tag.indexOf("-")>-1||null!=t.attrs&&t.attrs.is||"href"!==e&&"list"!==e&&"form"!==e&&"width"!==e&&"height"!==e)&&e in t.dom}var E,I=/[A-Z]/g;function D(t){return"-"+t.toLowerCase()}function j(t){return"-"===t[0]&&"-"===t[1]?t:"cssFloat"===t?"float":t.replace(I,D)}function O(t,e,r){if(e===r);else if(null==r)t.style="";else if("object"!=typeof r)t.style=r;else if(null==e||"object"!=typeof e)for(var n in t.style.cssText="",r)null!=(o=r[n])&&t.style.setProperty(j(n),String(o));else{for(var n in r){var o;null!=(o=r[n])&&(o=String(o))!==String(e[n])&&t.style.setProperty(j(n),o)}for(var n in e)null!=e[n]&&null==r[n]&&t.style.removeProperty(j(n))}}function z(){this._=t}function R(e,r,n){if(null!=e.events){if(e.events._=t,e.events[r]===n)return;null==n||"function"!=typeof n&&"object"!=typeof n?(null!=e.events[r]&&e.dom.removeEventListener(r.slice(2),e.events,!1),e.events[r]=void 0):(null==e.events[r]&&e.dom.addEventListener(r.slice(2),e.events,!1),e.events[r]=n)}else null==n||"function"!=typeof n&&"object"!=typeof n||(e.events=new z,e.dom.addEventListener(r.slice(2),e.events,!1),e.events[r]=n)}function $(t,e,r){"function"==typeof t.oninit&&u.call(t.oninit,e),"function"==typeof t.oncreate&&r.push(u.bind(t.oncreate,e))}function M(t,e,r){"function"==typeof t.onupdate&&r.push(u.bind(t.onupdate,e))}return z.prototype=Object.create(null),z.prototype.handleEvent=function(t){var e,r=this["on"+t.type];"function"==typeof r?e=r.call(t.currentTarget,t):"function"==typeof r.handleEvent&&r.handleEvent(t),this._&&!1!==t.redraw&&(0,this._)(),!1===e&&(t.preventDefault(),t.stopPropagation())},function(r,o,a){if(!r)throw new TypeError("DOM element being rendered to does not exist.");if(null!=E&&r.contains(E))throw new TypeError("Node is currently being rendered to and thus is locked.");var s=t,i=E,l=[],u=c(r),d=r.namespaceURI;E=r,t="function"==typeof a?a:void 0,e={};try{null==r.vnodes&&(r.textContent=""),o=n.normalizeChildren(Array.isArray(o)?o:[o]),p(r,r.vnodes,o,l,null,"http://www.w3.org/1999/xhtml"===d?void 0:d),r.vnodes=o,null!=u&&c(r)!==u&&"function"==typeof u.focus&&u.focus();for(var f=0;f<l.length;f++)l[f]()}finally{t=s,E=i}}}},1990:(t,e,r)=>{"use strict";var n=r(4138);t.exports=function(t){return null==t&&(t=""),n("<",void 0,void 0,t,void 0,void 0)}},4138:t=>{"use strict";function e(t,e,r,n,o,a){return{tag:t,key:e,attrs:r,children:n,text:o,dom:a,domSize:void 0,state:void 0,events:void 0,instance:void 0}}e.normalize=function(t){return Array.isArray(t)?e("[",void 0,void 0,e.normalizeChildren(t),void 0,void 0):null==t||"boolean"==typeof t?null:"object"==typeof t?t:e("#",void 0,void 0,String(t),void 0,void 0)},e.normalizeChildren=function(t){var r=[];if(t.length){for(var n=null!=t[0]&&null!=t[0].key,o=1;o<t.length;o++)if((null!=t[o]&&null!=t[o].key)!==n)throw new TypeError(!n||null==t[o]&&"boolean"!=typeof t[o]?"In fragments, vnodes must either all have keys or none have keys.":"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.");for(o=0;o<t.length;o++)r[o]=e.normalize(t[o])}return r},t.exports=e},202:(t,e,r)=>{"use strict";var n=r(8356);t.exports=r(8572)("undefined"!=typeof window?window:null,n.redraw)},8572:(t,e,r)=>{"use strict";var n=r(1700),o=r(5170);t.exports=function(t,e){function r(t){return new Promise(t)}function a(t,e){for(var r in t.headers)if(o.call(t.headers,r)&&r.toLowerCase()===e)return!0;return!1}return r.prototype=Promise.prototype,r.__proto__=Promise,{request:function(s,i){"string"!=typeof s?(i=s,s=s.url):null==i&&(i={});var l=function(e,r){return new Promise((function(s,i){e=n(e,r.params);var l,u=null!=r.method?r.method.toUpperCase():"GET",c=r.body,d=(null==r.serialize||r.serialize===JSON.serialize)&&!(c instanceof t.FormData||c instanceof t.URLSearchParams),f=r.responseType||("function"==typeof r.extract?"":"json"),m=new t.XMLHttpRequest,g=!1,p=!1,h=m,v=m.abort;for(var y in m.abort=function(){g=!0,v.call(this)},m.open(u,e,!1!==r.async,"string"==typeof r.user?r.user:void 0,"string"==typeof r.password?r.password:void 0),d&&null!=c&&!a(r,"content-type")&&m.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof r.deserialize||a(r,"accept")||m.setRequestHeader("Accept","application/json, text/*"),r.withCredentials&&(m.withCredentials=r.withCredentials),r.timeout&&(m.timeout=r.timeout),m.responseType=f,r.headers)o.call(r.headers,y)&&m.setRequestHeader(y,r.headers[y]);m.onreadystatechange=function(t){if(!g&&4===t.target.readyState)try{var n,o=t.target.status>=200&&t.target.status<300||304===t.target.status||/^file:\/\//i.test(e),a=t.target.response;if("json"===f){if(!t.target.responseType&&"function"!=typeof r.extract)try{a=JSON.parse(t.target.responseText)}catch(t){a=null}}else f&&"text"!==f||null==a&&(a=t.target.responseText);if("function"==typeof r.extract?(a=r.extract(t.target,r),o=!0):"function"==typeof r.deserialize&&(a=r.deserialize(a)),o){if("function"==typeof r.type)if(Array.isArray(a))for(var l=0;l<a.length;l++)a[l]=new r.type(a[l]);else a=new r.type(a);s(a)}else{var u=function(){try{n=t.target.responseText}catch(t){n=a}var e=new Error(n);e.code=t.target.status,e.response=a,i(e)};0===m.status?setTimeout((function(){p||u()})):u()}}catch(t){i(t)}},m.ontimeout=function(t){p=!0;var e=new Error("Request timed out");e.code=t.target.status,i(e)},"function"==typeof r.config&&(m=r.config(m,r,e)||m)!==h&&(l=m.abort,m.abort=function(){g=!0,l.call(this)}),null==c?m.send():"function"==typeof r.serialize?m.send(r.serialize(c)):c instanceof t.FormData||c instanceof t.URLSearchParams?m.send(c):m.send(JSON.stringify(c))}))}(s,i);if(!0===i.background)return l;var u=0;function c(){0==--u&&"function"==typeof e&&e()}return function t(e){var n=e.then;return e.constructor=r,e.then=function(){u++;var r=n.apply(e,arguments);return r.then(c,(function(t){if(c(),0===u)throw t})),t(r)},e}(l)}}}},7358:(t,e,r)=>{"use strict";var n=r(8356);t.exports=r(7635)("undefined"!=typeof window?window:null,n)},463:(t,e,r)=>{"use strict";var n=r(5170);t.exports=Object.assign||function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r])}},4716:(t,e,r)=>{"use strict";var n=r(5170),o=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");t.exports=function(t,e){var r={};if(null!=e)for(var a in t)n.call(t,a)&&!o.test(a)&&e.indexOf(a)<0&&(r[a]=t[a]);else for(var a in t)n.call(t,a)&&!o.test(a)&&(r[a]=t[a]);return r}},5170:t=>{"use strict";t.exports={}.hasOwnProperty},4950:t=>{"use strict";t.exports=flarum.reg.get("core","common/Component")},954:t=>{"use strict";t.exports=flarum.reg.get("core","common/app")},5336:t=>{"use strict";t.exports=flarum.reg.get("core","common/components/Button")},3015:t=>{"use strict";t.exports=flarum.reg.get("core","common/components/FormModal")},2088:t=>{"use strict";t.exports=flarum.reg.get("core","common/components/Link")},6661:t=>{"use strict";t.exports=flarum.reg.get("core","common/components/LoadingIndicator")},8607:t=>{"use strict";t.exports=flarum.reg.get("core","common/helpers/highlight")},8296:t=>{"use strict";t.exports=flarum.reg.get("core","common/helpers/textContrastClass")},9280:t=>{"use strict";t.exports=flarum.reg.get("core","common/utils/KeyboardNavigatable")},1821:t=>{"use strict";t.exports=flarum.reg.get("core","common/utils/Stream")},8443:t=>{"use strict";t.exports=flarum.reg.get("core","common/utils/classList")},9414:t=>{"use strict";t.exports=flarum.reg.get("core","common/utils/extract")},5233:t=>{"use strict";t.exports=flarum.reg.get("core","common/utils/extractText")},488:t=>{"use strict";t.exports=flarum.reg.get("core","forum/app")},1137:t=>{"use strict";t.exports=flarum.reg.get("core","forum/components/DiscussionPage")},8805:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e,r){return(e=function(t){var e=function(t){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==n(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,{A:()=>o})}},n={};function o(t){flarum.reg._webpack_runtimes["flarum-tags"]||=o;var e=n[t];if(void 0!==e)return e.exports;var a=n[t]={exports:{}};return r[t](a,a.exports,o),a.exports}o.m=r,o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.f={},o.e=t=>Promise.all(Object.keys(o.f).reduce(((e,r)=>(o.f[r](t,e),e)),[])),o.u=t=>"forum/components/TagDiscussionModal.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="module.exports:",o.l=(r,n,a,s)=>{if(t[r])t[r].push(n);else{var i,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==e+a){i=d;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",e+a),i.src=r),t[r]=[n];var f=(e,n)=>{i.onerror=i.onload=null,clearTimeout(m);var o=t[r];if(delete t[r],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((t=>t(n))),e)return e(n)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),l&&document.head.appendChild(i)}},o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!t||!/^http(s?):/.test(t));)t=r[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),o.f.compat=(t,e)=>{const r=o.l;o.l=flarum.reg.loadChunk.bind(flarum.reg,r)},(()=>{var t={170:0};o.f.j=(e,r)=>{var n=o.o(t,e)?t[e]:void 0;if(0!==n)if(n)r.push(n[2]);else{var a=new Promise(((r,o)=>n=t[e]=[r,o]));r.push(n[2]=a);var s=o.p+o.u(e),i=new Error;o.l(s,(r=>{if(o.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;i.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,n[1](i)}}),"chunk-"+e,e)}};var e=(e,r)=>{var n,a,[s,i,l]=r,u=0;if(s.some((e=>0!==t[e]))){for(n in i)o.o(i,n)&&(o.m[n]=i[n]);l&&l(o)}for(e&&e(r);u<s.length;u++)a=s[u],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0},r=self.webpackChunkmodule_exports=self.webpackChunkmodule_exports||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var a={};(()=>{"use strict";o.r(a),o.d(a,{extend:()=>r.X});var t=o(4085),e={};for(const r in t)"default"!==r&&(e[r]=()=>t[r]);o.d(a,e);var r=o(4319)})(),module.exports=a})();
//# sourceMappingURL=forum.js.map